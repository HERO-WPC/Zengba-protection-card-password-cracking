#源码来自大佬https://github.com/gitpetyr
#采用ai总结
#打包成exe直接在cmd中运行(管理员)




# 惠普增霸卡密码验证逆向分析总结

## 1. 核心原理 (Principle)

该破解方案利用了惠普增霸卡在密码存储和验证逻辑上的设计缺陷。

*   **存储机制（非文件系统）：**
    密码并未存储在常规的注册表或文件中，而是直接写入在硬盘的**物理扇区**中。
    *   **定位：** 程序通过 `DeviceIoControl` 获取硬盘参数，密码位于特定基地址偏移 `6410` 的位置。
    *   **模块：** 验证逻辑封装在 `PublicFun.dll` 动态链接库的 `CZbkObject::ValidAdminPasswords` 函数中。

*   **加密算法（弱加密）：**
    密码采用简单的 **异或 (XOR)** 运算进行加密，且密钥是硬编码（Hardcoded）的。
    *   **密钥 A：** `0x48414947` (ASCII: `GIAG`)
    *   **密钥 B：** `0x55414E47` (ASCII: `GUANG`)
    *   **逻辑：** `存储数据` XOR `密钥` = `明文密码`。

## 2. 工具功能 (Function)

作者编写的 C++ 工具通过模拟上述逆向逻辑，实现了以下功能：

1.  **物理驱动器遍历：** 自动遍历计算机上的物理硬盘（`PhysicalDrive0`, `PhysicalDrive1`...）。
2.  **增霸卡定位：** 通过特定的 IO 控制码识别安装了增霸卡的硬盘，并获取其参数。
3.  **直接读取扇区：** 绕过操作系统文件系统，直接读取存储密码的特定物理扇区数据。
4.  **一键解密还原：** 使用提取出的硬编码密钥对数据进行异或解密，直接在控制台输出**管理员明文密码**。

## 3. 使用方法 (Usage)

由于涉及物理硬件读取，操作需要具备一定权限。

### 前置条件
*   **操作系统：** Windows (需安装有惠普增霸卡的机器)。
*   **权限：** 必须以 **管理员身份 (Administrator)** 运行，否则无法通过 `CreateFile` 打开物理驱动器。
*   **环境：** 需要 C++ 编译环境（如 Visual Studio 或 MinGW）。

### 操作步骤

1.  **获取源码：**
    复制原文末尾提供的完整 C++ 源代码。

2.  **编译代码：**
    创建一个新的 C++ 控制台项目，将源码粘贴进去并进行编译。
    *   *注意：如果在 VS 中编译，可能需要设置项目属性以支持多字节字符集，或者根据报错微调头文件引用（如 `<windows.h>`, `<iostream>` 等）。*

3.  **运行程序：**
    右键点击编译生成的 `.exe` 文件，选择 **“以管理员身份运行”**。

4.  **查看结果：**
    控制台窗口将弹出，程序会自动查找并解密，最终显示如下信息：
    > `Password: [你的密码]`

### 源码核心片段示例
```cpp
// 核心解密逻辑演示
DWORD key1 = 0x48414947; // "GIAG"
DWORD key2 = 0x55414E47; // "GUANG"
// 读取到的buffer数据与key进行异或
// ... (读取扇区代码省略)
```

---
**免责声明：** 本总结仅供技术研究与安全学习使用，请勿用于非法用途。
